# Use XRender backend (no GLX/OpenGL)
# DO NOT USE GLX IT WILL NOT WORK DO NOT USE GLX
backend = "xrender"

# Opacity settings for focused and unfocused windows
active-opacity = 1.0;
inactive-opacity = 0.3;

# Enable shadows but keep them simple
shadow = false
shadow-radius = 10
shadow-opacity = 0.5
shadow-offset-x = -5
shadow-offset-y = -5
shadow-color = "#000000"

# Disable blur (xrender doesn't support blur properly)
blur-background = false

# Enable fading for smooth opacity transitions
fading = true
fade-in-step = 0.03
fade-out-step = 0.03

# Use damage tracking for better performance
use-damage = true

# Detect focused window using EWMH (helps with opacity detection)
detect-rounded-corners = true
detect-client-opacity = true

# Basic rules to disable shadow on docks and desktop windows
rules: ({
  match = "window_type = 'dock' || window_type = 'desktop'";
  shadow = false;
});

# VSync to reduce tearing
vsync = true

unredir-if-possible = true;

opacity-rule = [
  "30:class_g = 'Polybar'"
];

